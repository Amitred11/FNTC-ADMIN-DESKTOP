<!-- ../../components/header.html -->

<!-- =================================================================
     HEADER BAR
================================================================== -->
<header class="header">
    <div class="header-left">
        <div class="header-title-group">
            <h1 id="header-title">Dashboard</h1>
            <p id="header-subtitle">Welcome back, Admin!</p>
        </div>
    </div>
    <div class="header-right">
        <button class="header-icon-btn" id="broadcast-btn">
            <i class="ph ph-speaker-high"></i>
        </button>
        <button class="header-icon-btn" id="notification-bell">
            <i class="ph ph-bell"></i>
            <span class="notification-badge hidden" id="notification-badge">0</span>
        </button>
        <div class="profile-dropdown">
            <img src="../../assets/images/default-avatar.jpg" alt="Admin" class="profile-photo" id="header-admin-photo">
            <span class="profile-name" id="header-admin-name">Admin</span>
        </div>
    </div>
</header>

<!-- =================================================================
     MODALS & OVERLAYS CONTROLLED BY THE HEADER
================================================================== -->
<div id="modal-overlay" class="modal-overlay hidden"></div>

<!-- NOTIFICATION MODAL -->
<div id="notification-modal" class="fullscreen-modal hidden">
    <header class="nav-modal-header">
        <button class="nav-back-btn" id="close-notification-modal-btn"><span class="ph ph-arrow-left"></span></button>
        <h1>Notifications</h1>
    </header>
    <main class="nav-modal-body">
        <div id="notification-action-header" class="notification-action-header hidden">
            <div class="selection-info">
                <input type="checkbox" id="select-all-notifications-checkbox" class="form-checkbox">
                <label for="select-all-notifications-checkbox" id="selection-count-label">0 selected</label>
            </div>
            <button id="delete-selected-btn" class="action-btn danger" title="Delete Selected">
                <span class="ph ph-trash"></span> Delete
            </button>
        </div>
        <ul id="notification-list" class="notification-list-fullscreen">
            <li class="notification-item-placeholder">Loading notifications...</li>
        </ul>
    </main>
    <footer class="nav-modal-footer">
        <button id="mark-all-read-btn" class="action-btn">Mark all as read</button>
    </footer>
</div>

<!-- BROADCAST MODAL -->
<div id="broadcast-modal" class="fullscreen-modal hidden">
    <header class="nav-modal-header">
        <button class="nav-back-btn" id="close-broadcast-modal-btn"><span class="ph ph-arrow-left"></span></button>
        <h1>Broadcast</h1>
    </header>
    <main class="nav-modal-body has-form">
        <section class="form-section">
            <h2>1. Choose Recipients</h2>
            <div class="recipient-toggle" id="recipient-toggle">
                <button class="toggle-btn active" data-type="all">All Subscribers</button>
                <button class="toggle-btn" data-type="specific">Specific Users</button>
            </div>
            <div class="user-selection-area hidden" id="user-selection-area">
                <div class="selected-users-list" id="selected-users-list">
                     <p class="placeholder-text"><span class="ph-fill ph-info"></span> No users selected</p>
                </div>
                <button class="select-users-btn" id="select-users-btn"><span class="ph-fill ph-user-plus"></span> Select Users</button>
            </div>
        </section>
        <section class="form-section">
            <h2>2. Compose Message</h2>
            <input type="text" id="broadcast-title" class="form-input" placeholder="Notification Title">
            <textarea id="broadcast-message" class="form-textarea" placeholder="Enter your message here...."></textarea>
        </section>
    </main>
    <footer class="nav-modal-footer">
        <button id="send-broadcast-btn" class="action-btn primary">Send Broadcast</button>
    </footer>
</div>

<!-- USER SELECTION MODAL -->
<div id="user-selection-modal" class="modal-dialog hidden">
    <div class="modal-dialog-content">
        <header class="modal-dialog-header">
            <h2>Select Users</h2>
            <button id="close-user-select-modal-btn" class="close-btn ph ph-x"></button>
        </header>
        <div class="modal-dialog-body">
            <input type="search" id="user-search-input" class="form-input" placeholder="Search by name or email...">
            <ul class="user-select-list" id="user-select-list">
                <!-- Users will be populated by JS -->
            </ul>
        </div>
        <footer class="modal-dialog-footer">
            <button id="cancel-user-select-btn" class="action-btn">Cancel</button>
            <button id="confirm-user-select-btn" class="action-btn primary">Confirm Selection</button>
        </footer>
    </div>
</div>